{% comment %}
    Renders line item - EXTRA LARGE IMAGE TABLE
{% endcomment %}

{%-
  liquid
  assign line_item_index = line_item.index | plus: 1
  assign compact = compact | default: false
-%}

<tr class="cart-item" id="CartItem-{{- line_item_index -}}" style="border-bottom: 1px solid #e0e0e0;">
  
  <td class="cart-item__media" style="width: 300px; min-width: 300px; padding: 20px 20px 20px 0;">
    {%- if line_item.image -%}
      <a href="{{- line_item.url -}}" style="display: block; width: 100%;">
        <img 
          src="{{ line_item.image | image_url: width: 600 }}" 
          alt="{{ line_item.image.alt | escape }}" 
          loading="lazy" 
          width="300"
          height="{{ 300 | divided_by: line_item.image.aspect_ratio | ceil }}"
          style="width: 100%; height: auto; max-height: 250px; object-fit: contain; display: block; border-radius: 8px; border: 1px solid #f0f0f0;"
        >
      </a>
    {% else %}
       <div style="width: 300px; height: 200px; background: #f9f9f9; display: flex; align-items: center; justify-content: center; color: #ccc; font-size: 14px; border-radius: 8px;">No Image</div>
    {%- endif -%}
  </td>

  <td class="cart-item__details" style="padding: 20px 10px; vertical-align: middle;">
    <a href="{{- line_item.url -}}" style="text-decoration: none; color: #111; font-family: 'Playfair Display', serif; font-weight: 700; font-size: 20px; line-height: 1.3; display: block; margin-bottom: 10px;">
      {{- line_item.product.title | escape -}}
    </a>

    {%- if line_item.original_line_price != line_item.final_line_price -%}
      <div class="cart-item__discounted-prices" style="margin-bottom: 10px;">
        <del style="color: #999; font-size: 14px;">{{- line_item.original_line_price | money -}}</del>
        <strong style="color: #d32f2f; font-size: 16px; margin-left: 5px;">{{- line_item.final_line_price | money -}}</strong>
      </div>
    {%- endif -%}

    {%- unless line_item.product.has_only_default_variant -%}
      <div style="font-size: 13px; color: #555; margin-bottom: 15px; background: #fdfdfd; padding: 8px; border-radius: 4px; border: 1px solid #f0f0f0; display: inline-block;">
        {%- for option in line_item.options_with_values -%}
          <div style="margin-bottom: 2px;">
            <span style="font-weight: 700; text-transform: uppercase; font-size: 11px; color: #888;">{{ option.name }}:</span> 
            {{ option.value }}
          </div>
        {%- endfor -%}
      </div>
    {%- endunless -%}

    <div class="cart-item__details-actions" style="margin-top: 5px;">
       <cart-remove-button id="Remove-{{- line_item_index -}}" data-index="{{- line_item_index -}}">
          <a href="{{ line_item.url_to_remove }}" style="color: #d32f2f; font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; text-decoration: none; border-bottom: 1px solid transparent; transition: all 0.2s;">
            REMOVE
          </a>
          <style>cart-remove-button a:hover { border-bottom-color: #d32f2f !important; }</style>
       </cart-remove-button>
    </div>
  </td>

  {%- unless compact -%}
    <td class="medium-hide small-hide" style="padding: 20px; vertical-align: middle;">
      {%- if line_item.original_price != line_item.final_price -%}
         <div>
            <del style="color:#999; font-size:13px;">{{ line_item.original_price | money }}</del><br>
            <span style="color:#d32f2f; font-weight:bold; font-size: 16px;">{{ line_item.final_price | money }}</span>
         </div>
      {%- else -%}
         <span style="font-size: 16px; font-weight: 500;">{{ line_item.original_price | money }}</span>
      {%- endif -%}
    </td>

    <td class="medium-hide small-hide" style="padding: 20px; vertical-align: middle;">
      <div style="background: #fff; border: 1px solid #ddd; padding: 6px 14px; border-radius: 50px; display: inline-block; font-size: 13px; font-weight: 600; color: #333; white-space: nowrap;">
        <span style="color:#999; font-size: 11px; text-transform: uppercase; margin-right: 4px;">Qty:</span>{{ line_item.quantity }}
      </div>
    </td>

    <td class="medium-hide small-hide" style="padding: 20px 0 20px 20px; vertical-align: middle; text-align: right;">
      <strong style="font-size: 18px; color: #000;">{{ line_item.final_line_price | money }}</strong>
    </td>
  {%- endunless -%}
</tr>