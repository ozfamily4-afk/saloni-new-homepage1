{% comment %}
  Saloni Cinematic Full Video V2.1 - High Contrast Text Shadows
{% endcomment %}

<style>
  #shopify-section-{{ section.id }} {
    width: 100%;
    position: relative;
    overflow: hidden;
    /* Varsayılan Yükseklik Ayarları */
    height: {{ section.settings.desktop_height }}vh;
  }

  /* Mobile Height Adjustment */
  @media (max-width: 768px) {
    #shopify-section-{{ section.id }} {
      height: {{ section.settings.mobile_height }}vh;
    }
  }

  .saloni-video-wrapper {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: 1;
  }

  .saloni-video {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Videoyu ekrana yayar, boşluk bırakmaz */
    display: block;
  }

  /* KARARTMA PERDESİ (GRADIENT) - Yazı okunurluğu için */
  .saloni-video-overlay {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: 2;
    /* Alttan yukarı doğru hafif siyahlık */
    background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 50%);
    pointer-events: none;
  }

  /* TEXT CONTENT CONTAINER */
  .saloni-video-content {
    position: absolute;
    bottom: 80px;
    left: 60px;
    z-index: 3;
    max-width: 700px;
    color: #fff;
    text-align: left;
  }

  /* GÜNCELLEME: ÇOK GÜÇLÜ GÖLGE EKLENDİ */
  .saloni-video-desc {
    font-size: 1.8rem;
    font-weight: 400;
    line-height: 1.4;
    margin-bottom: 30px;
    opacity: 1; /* Opaklık tam yapıldı */
    /* Yeni, güçlü gölge efekti */
    text-shadow: 0 4px 18px rgba(0,0,0,1), 0 2px 4px rgba(0,0,0,0.8);
  }

  /* GÜNCELLEME: LİNKE DE GÖLGE EKLENDİ */
  .saloni-video-link {
    display: inline-flex;
    align-items: center;
    font-size: 1.3rem;
    font-weight: 600;
    color: #fff;
    text-decoration: none;
    text-transform: uppercase;
    letter-spacing: 2px;
    transition: all 0.3s ease;
    border-bottom: 2px solid transparent;
    padding-bottom: 5px;
    /* Link yazısına da gölge */
    text-shadow: 0 4px 18px rgba(0,0,0,1), 0 2px 4px rgba(0,0,0,0.8);
  }

  .saloni-video-link:hover {
    opacity: 1;
    border-color: #fff;
    padding-left: 15px;
  }

  /* GÜNCELLEME: İKONA FİLTRE GÖLGESİ */
  .saloni-video-link svg {
    width: 24px;
    height: 24px;
    margin-left: 12px;
    fill: currentColor;
    transition: transform 0.3s ease;
    /* SVG için özel gölge filtresi */
    filter: drop-shadow(0 4px 6px rgba(0,0,0,0.9));
  }

  .saloni-video-link:hover svg {
    transform: translateX(8px);
  }

  /* MOBİL AYARLAR */
  @media (max-width: 768px) {
    .saloni-video-content {
      bottom: 40px;
      left: 20px;
      right: 20px; 
      max-width: 100%;
    }
    .saloni-video-desc {
      font-size: 1.3rem; 
      line-height: 1.4;
      margin-bottom: 20px;
    }
    .saloni-video-link {
      font-size: 1rem;
    }
    .saloni-video-link svg {
      width: 20px; height: 20px;
    }
  }

</style>

<div class="saloni-video-wrapper">
  {% if section.settings.video_hosted != blank %}
    {{ section.settings.video_hosted | video_tag: autoplay: true, loop: true, muted: true, controls: false, class: 'saloni-video', playsinline: true }}
  {% else %}
    <div style="width:100%; height:100%; background:#333; display:flex; align-items:center; justify-content:center; color:#666;">
       VİDEO SEÇİLMEDİ
    </div>
  {% endif %}
</div>

<div class="saloni-video-overlay"></div>

<div class="saloni-video-content">
  {% if section.settings.description != blank %}
    <div class="saloni-video-desc">
      {{ section.settings.description }}
    </div>
  {% endif %}

  {% if section.settings.link_text != blank and section.settings.link_url != blank %}
    <a href="{{ section.settings.link_url }}" class="saloni-video-link">
      {{ section.settings.link_text }}
      <svg viewBox="0 0 24 24"><path d="M16.17 13l-5.59 5.59L12 20l8-8-8-8-1.41 1.41L16.17 11H4v2z"/></svg>
    </a>
  {% endif %}
</div>

{% schema %}
{
  "name": "Saloni Full Video",
  "settings": [
    {
      "type": "header",
      "content": "Video Ayarları"
    },
    {
      "type": "video",
      "id": "video_hosted",
      "label": "Video Yükle (MP4)",
      "info": "Lütfen yüksek kaliteli bir video seçin."
    },
    {
      "type": "range",
      "id": "desktop_height",
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "vh",
      "label": "Masaüstü Yüksekliği (Ekran %)",
      "default": 90,
      "info": "100vh tam ekran demektir."
    },
    {
      "type": "range",
      "id": "mobile_height",
      "min": 40,
      "max": 100,
      "step": 5,
      "unit": "vh",
      "label": "Mobil Yüksekliği",
      "default": 60
    },
    {
      "type": "header",
      "content": "Metin Ayarları"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Açıklama Metni",
      "default": "Discover modern furniture pieces that blend elegance, comfort, and functionality, perfect for every stylish living space."
    },
    {
      "type": "text",
      "id": "link_text",
      "label": "Link Metni",
      "default": "Discover"
    },
    {
      "type": "url",
      "id": "link_url",
      "label": "Link Hedefi"
    }
  ],
  "presets": [
    {
      "name": "Saloni Full Video"
    }
  ]
}
{% endschema %}